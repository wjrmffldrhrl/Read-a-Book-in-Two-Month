# 빅데이터 시대의 데이터 분석 기반
빅데이터 기술이 기존의 데이터 웨어하우스와 다른 점은 다수의 분산 시스템을 조합 하여 확장성이 뛰어난 데이터 처리 구조를 만든다는 점이다.  

## 빅데이터의 기술
### 데이터 파이프라인
차례대로 전달해나가는 데이터로 구성된 시스템을 **데이터 파이프라인**이라고 한다.  

### 데이터 수집
데이터 파이프라인은 데이터를 모으는 부분부터 시작한다. 
데이터는 여러 장소에서 발생하고 각각 다른 형태를 보이며 서로 다른 기술로 데이터를 전송한다.  
**데이터 전송**의 방법은 크게 두 가지가 있다.
- 벌크(bulk)
    - 이미 존재하는 데이터를 정리해 추출하는 방법
    - 정기적으로 데이터를 수집하는 데에 사용한다.
- 스트리밍(streaming)
    - 차례차례로 생성되는 데이터를 끊임없이 계속해서 보내는 방법
    - 애플리케이션, 임베디드 장비 등에서 데이터를 수집하는덷 사용된다.

### 스트림 처리와 배치 처리
스트리밍형 방법으로 받은 데이터를 실시간으로 처리 하는것을 **스트림 처리**라고 한다. **시계열 데이터 베이스**와 같은 실시간 처리를 지향한 데이터베이스가 자주 사용되며, 지금 무슨 일이 일어나고 있는지 즉시 알 수 있다.  

스트림 처리는 장기적인 데이터 분석에는 적합하지 않으므로, 장기적 데이터 분석을 위해서는 보다 대량의 데이터를 저장하고 처리하는데 적합한 분산 시스템이 좋다.  
여기에는 어느정도 정리된 데이터를 효율적으로 가공하기 위한 **배치 처리**구조가 필요하다.  

### 분산 스토리지
수집된 데이터는 **분산 스토리지**에 저장된다. 대표적으로 **객체 스토리지**가 있다.  

### 분산 데이터 처리
분산 스토리지에 저장된 데이터를 처리하는데는 **분산 데이터 처리**의 프레임 워크가 필요하다. 데이터 처리의 주 역할은 나중에 분석하기 쉽도록 데이터를 가공해서 그 결과를 외부 데이터베이스에 저장하는 것이다.  

대다수의 사람들은 데이터 집계에 있어 SQL을 사용하는데 빅데이터를 SQL로 집계할 때는 두 가지 방법이 있다.
- 쿼리 엔진 도입
    - Hive
    - 대화형 쿼리 엔진
- 외부 데이터 웨어하우스 제품 사용
    - 이를 위해서는 분산 스토리지에서 추출한 데이터를 데이터 웨어하우스에 적합한 형식으로 변환한다.
        - 이 절차를 **ETL 프로세스**라고 한다.
        - 추출(Extract), 가공(Transform), 로드(Load)


### 워크플로 관리
전체 데이터 파이프라인의 동작을 관리하는 기술을 **워크플로 관리**라고 한다. 매일 정해진 시간에 배치 처리를 스케줄대로 실행하고, 오류가 발생한 경우에는 관리자에게 통지하는 목적으로 사용된다.  


## 데이터 웨어하우스와 데이터 마트
데이터 웨어하우스는 웹 서버나 업무 시스템에서 이용되는 일반적인 RDB와 달리 **대량의 데이터를 장기 보존하는**것에 최적화되어 있다. 정리된 데이터를 한 번에 전송하는 것은 뛰어나지만, 소량의 데이터를 자주 쓰고 읽는 데는 적합하지 않다.  

업무 시스템을 위한 RDB나 로그 등을 저장하는 파일 서버는 **데이터 소스**라고 부르며, 이곳에 저장된 **로우 데이터**를 추출하고 필요에 따라 가공한 후 데이터 웨어하우스에 저장하기까지의 흐름이 **ETL 프로세스**다.  

데이터 웨어하우스는 과부화를 막기 위해 데이터 분석과 같은 목적에 사용하는 경우에 데이터 웨어하우스에서 필요한 데이터만을 추출하여 **데이터 마트**를 구축한다.

## 데이터 레이크
모든 데이터가 데이터 웨어하우스를 가정해 만들어지는 것은 아니다.  
모든 데이터를 원래의 형태로 축적해두고 나중에 그것을 필요에 따라 가공하는 구조가 필요한데 이러한 데이터 축적 장소를 **데이터 레이크**라고 한다.  

데이터 레이크는 단순한 스토리지이며, 이것만으로는 데이터를 가공할 수 없기 때문에 데이터 분석에 필요한 데이터를 가공, 집계하여 데이터 마트로 추출한 뒤에 데이터 분석을 진행할 수 있다.  

## 데이터 분석 기반을 단계적으로 발전시키기
데이터 분석에 필요한 기술은 다방면에 걸쳐 있기 때문에 보통 팀을 이루어 작업을 한다.  
- 데이터 엔지니어
    - 시스템의 구축 및 운용
    - 자동화
- 데이터 분석가
    - 가치있는 정보 추출

하지만 현실적으로 항상 팀을 구성해 역할을 분배 할 수 있는 것은 아니다.  

### 애드 혹 분석 및 대시보드 도구
시작 단계에서는 수작업으로 데이터를 집계할 수 있으면 충분하다. 이것을 일회성 데이터 분석이라는 의미로 **애드 혹 분석**(SQL 직접 작성, 엑셀 그래프 작성) 이라고 한다.  

보통 데이터 마트를 생성하지 않고 데이터 레이크나 데이터 웨어하우스에 직접 연결해서 사용하는 경우가 많다.  

### 데이터 마트와 워크플로 관리
복잡한 데이터 분석에는 먼저 데이터 마트를 구축한 후에 분석하거나 시각화하도록 한다.  
특히 시각화에 BI 도구를 사용할 경우는 집계 속도를 높이기 위해 데이터 마트가 필수적이다.  

## 데이터를 수집하는 목적  
### 데이터 검색
데이터 검색은 대량의 데이터 중에서 조건에 맞는 것을 찾고 싶은 경우가 있다.  
데이터 검색에 너무 많은 시간이 걸리면 안되고, 필요할 때 신속하게 검색할 수 있도록 해야 한다.  

### 데이터 가공
데이터 가공에서는 업무 시스템의 일부로서 데이터 처리 결과를 이용하고 싶은 경우(센서 데이터의 비정상적인 상태 감지 후 통보)가 있다.  

이 경우 목적이 명확하기 때문에 필요한 데이터를 계획적으로 모아 데이터 파이프라인을 설계한다.  

### 데이터 시각화  
데이터를 시각적으로 봄으로써 알고 싶은 정보를 얻는 경우가 있다.  
- 통계 분석 소프트웨어
- BI 도구의 그래프
이를 통해 상황 예측 및 의사 결정을 돕는다.  

## 확증적 데이터 분석과 탐색적 데이터 분석
데이터 분석이란 가설을 세우고 그것을 검증하는 **확증적 데이터 분석**과 데이터를 보면서 그 의미를 읽어내려고 하는 **탐색적 데이터 분석**으로 나눌 수 있다.  

전자가 통계학적 모델링에 의한 데이터 분석이라면, 후자는 데이터를 시각화하여 사람의 힘으로 그 의미를 읽는다.  



