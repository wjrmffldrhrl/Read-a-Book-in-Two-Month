# 벌크 형과 스트리밍 형의 데이터 수집
데이터 전송에는 벌크 형과 스트리밍 형의 두 종류의 도구가 사용된다.

## 객체 스토리지와 데이터 수집
빅데이터는 대부분의 경우 확장성이 높은 **분산 스토리지(distributed storage)**에 저장된다.  
기본적으로 **객체 스토리지(object storage)**가 있다.
- Hadoop의 HDFS
- Amazon의 S3  

객체 스토리지에서의 파일 읽고 쓰기는 네트워크를 거쳐서 실행한다.  
데이터는 항상 여러 디스크에 복사되기 때문에 일부 하두웨어가 고장 나더라도 데이터가 손실되지 않는다.  

객체 스토리지의 구조는 데이터양이 많을 때는 우수하지만, 소량의 데이터에 대해서는 반대로 비효율적임에 주의가 필요하다.  

### 데이터 수집  
빅데이터는 주로 시계열 데이터를 다룬다.  
이런 데이터를 수시로 객체 스토리지에 기록하면 대량의 작은 파일이 생성되어 시간이 지남에 따라 성능을 저하시키는 요인이 된다.  


아래와 같이 데이터를 처리해 줘야 한다.
- 작은 데이터
  - 적당히 모아서 하나의 큰 파일로 만든다.
- 너무 큰 데이터
  - 적당히 나눠서 여러 파일로 만든다.  

빅데이터는 단지 수집만 해서는 안되고, 나중에 처리하기 쉽도록 준비해 둘 필요가 있다. 이렇게 수집한 데이터를 가공하여 집계 효율이 좋은 분산 스토리지를 만드는 일련의 프로세스를 **데이터 수집(data ingestion)**이라고 한다.  

## 벌크 형의 데이터 전송
원래 데이터가 처음부터 분산 스토리지에 저자오디어 있는 것이 아니라면 데이터 전송을 위한 **ETL 서버**를 설치한다.  

벌크 형의 도구로 파일 사이즈를 적정화하는 것은 비교적 간단하다. ETL 프로세스는 정기적인 실행을 하므로 그동안 축적된 데이터는 하나로 모인다.  
- 예를 들어 100개의 파일을 전송하는데 100번 전송을 반복하고 있다면 모아서 전송하는 것이 좋다.  
- 너무 큰 파일이라면 나눠서 전송하자  

데이터 전송의 신뢰성이 중요한 경우에는 가능한 한 벌크 형 도구를 사용해야 한다.
- 스트리밍 형의 데이터 전송은 나중에 재실행하기가 쉽지 않다.  
- 뭔가 문제가 발생했을 때 여러 번 데이터 전송을 재실행할 수 있다는 점이 벌크 형의 장점이다.  

## 스트리밍 형의 데이터 전송
지금 바로 생성되어 오는 데이터는 그자리에서 바로 전송하는 수 밖에 없다.
